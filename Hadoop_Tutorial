hadoopuser@mrcs-Lenovo:~/softwares$ tar -xzf hadoop-2.9.2.tar.gz
hadoopuser@mrcs-Lenovo:~/softwares$ cd ..
hadoopuser@mrcs-Lenovo:~$ ln -s softwares/hadoop-2.9.2 hadoop292
hadoopuser@mrcs-Lenovo:~$ ssh-keygen -t rsa
hadoopuser@mrcs-Lenovo:~$ cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys
hadoopuser@mrcs-Lenovo:~$ ssh hadoopuser@localhost      #hadoop ou hadoopuser
hadoopuser@mrcs-Lenovo:~$ logout
hadoopuser@mrcs-Lenovo:~$ whereis java
hadoopuser@mrcs-Lenovo:~$ ls -l /usr/bin/java
hadoopuser@mrcs-Lenovo:~$ ls -alh /etc/alternatives/java
@ /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java

hadoopuser@mrcs-Lenovo:~$ gedit ~/.bashrc

##JAVA_HOME
export JAVA_HOME=/usr/lib/jvm/java-8-oracle         ##Pegar java corrreto da máquina
export PATH=$PATH:export PATH=$PATH:/usr/lib/jvm/java-8-oracle/bin

hadoopuser@mrcs-Lenovo:~$ source ~/.bashrc 
hadoopuser@mrcs-Lenovo:~$ echo $JAVA_HOME
hadoopuser@mrcs-Lenovo:~$ java -version
hadoopuser@mrcs-Lenovo:~$ gedit ~/.bashrc

##HADOOP_VARIABLES
export HADOOP_HOME=/home/hadoop/hadoop292

export PATH=$PATH:$HADOOP_HOME/bin
export PATH=$PATH:$HADOOP_HOME/sbin

export HADOOP_MAPRED_HOME=$HADOOP_HOME
export HADOOP_COMMOM_HOME=$HADOOP_HOME
export HADOOP_HDFS_HOME=$HADOOP_HOME
export YARN_HOME=$HADOOP_HOME

export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop
export HADOOP_COMMOM_LIB_NATIVE_DIR=$HADOOP_HOME/lib/native
export HADOOP_OPTS="-Djava.library.path=$HADOOP_HOME/lib/native"
export HADOOP_STREAMING=$HADOOP_HOME/share/hadoop/tools/lib/hadoop-streaming-2.9.2.jar
export HADOOP_LOG_DIR=$HADOOP_HOME/logs

hadoopuser@mrcs-Lenovo:~$ source ~/.bashrc
hadoopuser@mrcs-Lenovo:~$ echo $HADOOP_HOME
hadoopuser@mrcs-Lenovo:~$ mkdir /home/hadoopuser/hadoop292/data
hadoopuser@mrcs-Lenovo:~$ mkdir -p /home/hadoopuser/hadoop292/hdfs_store/hdfs/datanode
hadoopuser@mrcs-Lenovo:~$ mkdir -p /home/hadoop/hadoop292/hdfs_store/hdfs/namenode
hadoopuser@mrcs-Lenovo:~$ cd hadoop292/etc/hadoop
hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ gedit core-site.xml

<configuration>
    <property>
        <name>fs.default.name</name>
        <value>hdfs://127.0.0.1:9000</value>
    </property>

    <property>
        <name>hadoop.tmp.dir</name>
        <value>/home/hadoop/hadoop292/data</value>
    </property>
</configuration>

hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ gedit hdfs-site.xml

<configuration>
    <property>
        <name>dfs.replication</name>
        <value>1</value>
    </property>

    <property>
        <name>dfs.namenode.name.dir</name>
        <value>file:/home/hadoop/hadoop292/hdfs_store/hdfs/namenode</value>
    </property>

    <property>
        <name>dfs.datanode.name.dir</name>
        <value>file:/home/hadoop/hadoop292/hdfs_store/hdfs/data node</value>
    </property>
</configuration>

hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ gedit yarn-site.xml

<configuration>
    <property>
        <name>yarn.nodemanager.aux-services</name>
        <value>mapreduce_shuffle</value>
    </property>

    <property>
        <name>yarn.resourcemanager.address</name>
        <value>127.0.0.1:8032</value>
    </property>

    <property>
        <name>yarn.nodemanager.aux-services.mapreduce.shuffle.class</name>
        <value>org.apache.hadoop.mapred.ShuffleHandler</value>
    </property>

    <property>
        <name>yarn.resourcemanager.resource-tracker.address</name>
        <value>127.0.0.1:8025</value>
    </property>

    <property>
        <name>yarn.resourcemanager.scheduler.address</name>
        <value>127.0.0.1:8030</value>
    </property>

    <property>
        <name>yarn.resourcemanager.address</name>
        <value>127.0.0.1:8050</value>
    </property>
</configuration>

hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ cp mapred-site.xml.template mapred-site.xml
hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ gedit mapred-site.xml

<configuration>
    <property>
        <name>mapreduce.framework.name</name>
        <value>yarn</value>
    </property>

    <property>
        <name>mapreduce.jobhistory.address</name>
        <value>127.0.0.1:10020</value>
        <description>Default port is 10020</description>
    </property>

    <property>
        <name>mapreduce.jobhistory.webapp.address</name>
        <value>127.0.0.1:19888</value>
        <description>Default port is 19888</description>
    </property>
</configuration>

hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ gedit hadoop-env.sh

export JAVA_HOME=/usr/lib/jvm/java-8-oracle/            #java-8-openjdk-amd64

hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ hdfs namenode -format





AQUIDBASIDASBD


hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ cd 
hadoopuser@mrcs-Lenovo:~$ start-dfs.sh &
hadoopuser@mrcs-Lenovo:~$ jps
hadoopuser@mrcs-Lenovo:~$ start-yarn.sh &
hadoopuser@mrcs-Lenovo:~$ jps
hadoopuser@mrcs-Lenovo:~$ hdfs dfs -mkdir -p /user/hadoop  #Provavelmente é hadoopuser
hadoopuser@mrcs-Lenovo:~$ hdfs dfs -mkdir -p /user/hadoop/input
hadoopuser@mrcs-Lenovo:~$ hdfs dfs -mkdir -p /user/hadoop/output
hadoopuser@mrcs-Lenovo:~$ hdfs dfs -ls /user/hadoop
hadoopuser@mrcs-Lenovo:~$ cd /hadoop292/etc/hadoop
hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ hdfs dfs -put mapred-site.xml /user/hadoop/input/
hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ hdfs dfs -ls /user/hadoop/input

GOTO Navegador
link-> localhost:50070
link-> localhost:8088

hadoopuser@mrcs-Lenovo:~/hadoop292/etc/hadoop$ cd
hadoopuser@mrcs-Lenovo:~$ hadoop jar hadoop292/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.9.2.jar
hadoopuser@mrcs-Lenovo:~$ hadoop jar hadoop292/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.9.2.jar wordcount /user/hadoop/input/ user/hadoop/output/wc

GOTO Navegador
link-> localhost:8088/cluster

Olhar se o status esta RUNNING

Depois olhar se o status esta FINISHED

hadoopuser@mrcs-Lenovo:~$ hdfs dfs -ls /user/hadoop/output
hadoopuser@mrcs-Lenovo:~$ hdfs dfs -cat /user/hadoop/output/wc/part*

THE END

